<!DOCTYPE html>
<html>
<head>
    <title>Anything is PWA</title>
</head>
<body>
    <p>Source code and explanation: https://github.com/iTrooz/AnythingIsPWA</p>

    <form name="form" onsubmit="return validateForm()" action="/app" >
        <label for="name">Name:</label>
        <input type="text" name="name">
        <br>

        <label for="short_name">Short name:</label>
        <input type="text" name="short_name">
        <br>

        <label for="start_url">URL of the website:</label>
        <input type="text" name="start_url">
        <br>
        
        <label for="icon_url">Icon link <bold>(must be png, and at least 144x144)</bold>:</label>
        <input type="text" name="icon_url">
        <br>
        <br>

        <input type="submit" value="Generate PWA manifest">
    </form>
    <script>
        function isURL(s) {
            try {
                new URL(s);
                return true;
            } catch (e) {
                return false;
            }
        }

        function validateForm() {
            let form = document.forms["form"];

            if (!form["name"].value.trim()) {
                alert("Name must be filled out");
            }else if (!isURL(form["start_url"].value)) {
                alert("URL of the website is not valid");
            } else if (!isURL(form["icon_url"].value)) {
                alert("URL of the icon is not valid");
            } else return true;
            return false;
        } 
    </script>
</body>
</html>